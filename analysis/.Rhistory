phase_lengths <- d %>%
group_by(phase_name) %>%
summarise(phase_length = mean(phase_length)) %>%
mutate(time = cumsum(phase_length),
middle_time = time - phase_length/2,
middle_time_s = middle_time / 1000)
ms <- left_join(ms, phase_lengths)
mss <- left_join(mss, phase_lengths)
ggplot(mss, aes(x = middle_time_s, y = social_ref,
col = familiarity, group = familiarity)) +
geom_jitter(width = .4, height = .05) +
geom_line(data = ms, aes(y = mean)) +
geom_pointrange(data = ms,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(.~num_objs) +
ylim(c(0,1)) +
xlim(c(0, 9)) +
xlab("Time (s)") +
ylab("Probability of social referencing") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
phase_lengths <- d %>%
group_by(phase_name) %>%
multi_boot_standard(col = "phase_length")
ggplot(phase_lengths, aes(x = phase_name, y = mean)) +
geom_bar(stat="identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9))+
xlab("Phase") +
ylab("Phase Length (ms)")
phase_lengths_dc <- dc %>%
group_by(phase_name) %>%
multi_boot_standard(col = "phase_length")
ggplot(phase_lengths_dc, aes(x = phase_name, y = mean)) +
geom_bar(stat="identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9))+
xlab("Phase") +
ylab("Phase Length (ms)")
lm <- glmer(social_ref ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc,
family = "binomial")
tab <- kable(coef(summary(lm)), caption = "Mixed effects logistic regression model predicting social referencing")
print(tab, type="html")
lm <- glmer(social_ref ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc,
family = "binomial")
lm <- glmer(social_ref ~ num_objs * familiarity * age_months +
(1|SID),
data = filter(dc(phase_name == "label_request")),
family = "binomial")
lm <- glmer(social_ref ~ num_objs * familiarity * age_months +
(1|SID),
data = filter(dc,phase_name == "label_request"),
family = "binomial")
lm <- glmer(social_ref ~ num_objs * familiarity * age_months +
(1|SID),
data = filter(dc,phase_name == label_request),
family = "binomial")
lm <- glmer(social_ref ~ num_objs * age_months +
(1|SID),
data = filter(dc,phase_name == "label_request"),
family = "binomial")
lm <- glmer(social_ref ~ num_objs * familiarity  +
(1|SID),
data = filter(dc,phase_name == "label_request"),
family = "binomial")
lm <- glmer(social_ref ~ num_objs  +
(1|SID),
data = filter(dc,phase_name == "label_request"),
family = "binomial")
tab <- kable(coef(summary(lm)), caption = "Mixed effects logistic regression model predicting social referencing")
print(tab, type="html")
rm(list=ls())
knitr::opts_chunk$set(fig.width=8, fig.height=5,
echo=TRUE, warning=FALSE, message=FALSE, cache=TRUE)
suppressPackageStartupMessages(c("dplyr","langcog","tidyr","ggplot2","lme4"))
library(langcog)
library(dplyr)
library(ggplot2)
library(rjson)
library(stringr)
library(tidyr)
library(lme4)
library(xtable)
library(knitr)
library(markdown)
theme_set(theme_bw())
files <- dir("../datavyu/data/")
d.raw <- data.frame()
for (f in files) {
jf <- paste("../datavyu/data/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = f,
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
social_ref = as.numeric(jd$reference.0_1),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset)
d.raw <- bind_rows(d.raw, id)
}
d.raw$SID <- str_replace(d.raw$SID, ".csv", "")
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
str_replace(demo$age, "n/a", "")
str_replace(demo$age, "N/A", "")
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("trial_info.csv")
demo$age_years <- trunc(as.numeric(demo$age), digits = 0)
demo$age_months <- demo$age*12
demo$age_months <- (as.numeric(demo$age)*12
trial_info <- read.csv("trial_info.csv")
demo$age_months <- as.numeric(demo$age)*12
trial_info <- read.csv("trial_info.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, age_years, age_months, gender, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
left_join(trial_info, by = c("Condition","line"))
dc_phase <- d %>%
select(SID, trial, phase_name, phase_length) %>%
spread(phase_name, phase_length) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, label_request, request_touch, touch_response)%>%
gather("phase_name", "phase_length", label_request:touch_response)%>%
group_by(SID, trial, phase_name, phase_length)
dc <- d %>%
select(SID, trial, social_ref, phase_name, familiarity, num_objs, age_months, age_years) %>%
spread(phase_name, social_ref) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, familiarity, num_objs, age_months, age_years, label_request, request_touch, touch_response)%>%
gather("phase_name", "social_ref", label_request:touch_response)%>%
left_join(dc_phase, by = c("SID", "trial", "phase_name"))
mss <- d %>%
group_by(SID, phase_name, num_objs, familiarity, age_years) %>%
summarise(social_ref = mean(social_ref))
ms <- d %>%
group_by(phase_name, familiarity, num_objs, age_years) %>%
multi_boot_standard(col = "social_ref")
ggplot(mss, aes(x = phase_name, y = social_ref,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = ms, aes(y = mean)) +
geom_pointrange(data = ms,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,1)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
View(demo)
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age_years <- trunc(demo$age, digits = 0)
str_replace(demo$age, "n/a", "")
str_replace(demo$age, "N/A", "")
str_replace(demo$age, "N/A ", "")
str_replace(demo$age, " N/A ", "")
str_replace(demo$age, "N/A", "")
demo$age <- str_replace(demo$age, "N/A", "")
View(demo)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
View(demo)
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, age_years, age_months, gender, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
left_join(trial_info, by = c("Condition","line"))
dc_phase <- d %>%
select(SID, trial, phase_name, phase_length) %>%
spread(phase_name, phase_length) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, label_request, request_touch, touch_response)%>%
gather("phase_name", "phase_length", label_request:touch_response)%>%
group_by(SID, trial, phase_name, phase_length)
dc <- d %>%
select(SID, trial, social_ref, phase_name, familiarity, num_objs, age_months, age_years) %>%
spread(phase_name, social_ref) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, familiarity, num_objs, age_months, age_years, label_request, request_touch, touch_response)%>%
gather("phase_name", "social_ref", label_request:touch_response)%>%
left_join(dc_phase, by = c("SID", "trial", "phase_name"))
mss <- d %>%
group_by(SID, phase_name, num_objs, familiarity, age_years) %>%
summarise(social_ref = mean(social_ref))
ms <- d %>%
group_by(phase_name, familiarity, num_objs, age_years) %>%
multi_boot_standard(col = "social_ref")
ggplot(mss, aes(x = phase_name, y = social_ref,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = ms, aes(y = mean)) +
geom_pointrange(data = ms,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,1)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
View(demo)
rm(list=ls())
knitr::opts_chunk$set(fig.width=8, fig.height=5,
echo=TRUE, warning=FALSE, message=FALSE, cache=TRUE)
suppressPackageStartupMessages(c("dplyr","langcog","tidyr","ggplot2","lme4"))
library(langcog)
library(dplyr)
library(ggplot2)
library(rjson)
library(stringr)
library(tidyr)
library(lme4)
library(xtable)
library(knitr)
library(markdown)
theme_set(theme_bw())
files <- dir("../datavyu/data/")
d.raw <- data.frame()
for (f in files) {
jf <- paste("../datavyu/data/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = f,
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
social_ref = as.numeric(jd$reference.0_1),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset)
d.raw <- bind_rows(d.raw, id)
}
d.raw$SID <- str_replace(d.raw$SID, ".csv", "")
View(d.raw)
View(jd)
files <- dir("../datavyu/data/")
d.raw <- data.frame()
for (f in files) {
jf <- paste("../datavyu/data/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = f,
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
social_ref = as.numeric(jd$reference.0_1),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
exclude = jd$reference.exclude.)
d.raw <- bind_rows(d.raw, id)
}
d.raw$SID <- str_replace(d.raw$SID, ".csv", "")
View(d.raw)
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, num_looks, exclude, age_years, age_months, gender, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
left_join(trial_info, by = c("Condition","line"))
files <- dir("../datavyu/data/")
d.raw <- data.frame()
for (f in files) {
jf <- paste("../datavyu/data/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = f,
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
social_ref = as.numeric(jd$reference.0_1),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
exclude = jd$reference.exclude.)
d.raw <- bind_rows(d.raw, id)
}
d.raw$SID <- str_replace(d.raw$SID, ".csv", "")
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age <- str_replace(demo$age, "n/a", "")
demo$age <- str_replace(demo$age, "N/A", "")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("trial_info.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, num_looks, exclude, age_years, age_months, gender, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
left_join(trial_info, by = c("Condition","line"))
View(d)
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age <- str_replace(demo$age, "n/a", "")
demo$age <- str_replace(demo$age, "N/A", "")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("trial_info.csv")
View(demo)
d <- left_join(d.raw, demo)
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, num_looks, exclude, age_years, age_months, gender, line, Condition, phase_onset, phase_offset)
View(d)
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age <- str_replace(demo$age, "n/a", "")
demo$age <- str_replace(demo$age, "N/A", "")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("trial_info.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, num_looks, exclude, age_years, age_months, gender, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
left_join(trial_info, by = c("Condition","line"))
View(d)
mss <- d %>%
group_by(SID, phase_name, num_objs, familiarity, age_years) %>%
summarise(social_ref = mean(social_ref))
ms <- d %>%
group_by(phase_name, familiarity, num_objs, age_years) %>%
multi_boot_standard(col = "social_ref")
ggplot(mss, aes(x = phase_name, y = social_ref,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = ms, aes(y = mean)) +
geom_pointrange(data = ms,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,1)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
rm(list=ls())
knitr::opts_chunk$set(fig.width=8, fig.height=5,
echo=TRUE, warning=FALSE, message=FALSE, cache=TRUE)
suppressPackageStartupMessages(c("dplyr","langcog","tidyr","ggplot2","lme4"))
library(langcog)
library(dplyr)
library(ggplot2)
library(rjson)
library(stringr)
library(tidyr)
library(lme4)
library(xtable)
library(knitr)
library(markdown)
theme_set(theme_bw())
files <- dir("../datavyu/data/")
d.raw <- data.frame()
for (f in files) {
jf <- paste("../datavyu/data/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = f,
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
social_ref = as.numeric(jd$reference.0_1),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
exclude = jd$reference.exclude.)
d.raw <- bind_rows(d.raw, id)
}
d.raw$SID <- str_replace(d.raw$SID, ".csv", "")
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age <- str_replace(demo$age, "n/a", "")
demo$age <- str_replace(demo$age, "N/A", "")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("trial_info.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, social_ref, num_looks, exclude, age_years, age_months, gender, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
left_join(trial_info, by = c("Condition","line"))
dc_phase <- d %>%
select(SID, trial, phase_name, phase_length) %>%
spread(phase_name, phase_length) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, label_request, request_touch, touch_response)%>%
gather("phase_name", "phase_length", label_request:touch_response)%>%
group_by(SID, trial, phase_name, phase_length)
View(dc_phase)
dc <- d %>%
select(SID, trial, social_ref, phase_name, familiarity, num_objs, age_months, age_years) %>%
spread(phase_name, social_ref) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, familiarity, num_objs, age_months, age_years, label_request, request_touch, touch_response)%>%
gather("phase_name", "social_ref", label_request:touch_response)%>%
left_join(dc_phase, by = c("SID", "trial", "phase_name"))
View(dc)
mss <- d %>%
group_by(SID, phase_name, num_objs, familiarity, age_years) %>%
summarise(social_ref = mean(social_ref))
ms <- d %>%
group_by(phase_name, familiarity, num_objs, age_years) %>%
multi_boot_standard(col = "social_ref")
mslooks <- d %>%
group_by(phase_name, familiarity, num_objs, age_years) %>%
multi_boot_standard(col = "num_looks")
msslooks <- d %>%
group_by(phase_name, familiarity, num_objs, age_years) %>%
multi_boot_standard(col = "num_looks")
ggplot(msslooks, aes(x = phase_name, y = num_looks,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = mslooks, aes(y = mean)) +
geom_pointrange(data = mslooks,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,1)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
View(mslooks)
View(msslooks)
View(ms)
View(mss)
msslooks <- d %>%
group_by(SID, phase_name, num_objs, familiarity, age_years) %>%
summarise(social_ref = mean(num_looks))
ggplot(msslooks, aes(x = phase_name, y = num_looks,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = mslooks, aes(y = mean)) +
geom_pointrange(data = mslooks,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,1)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
View(msslooks)
msslooks <- d %>%
group_by(SID, phase_name, num_objs, familiarity, age_years) %>%
summarise(num_looks = mean(num_looks))
ggplot(msslooks, aes(x = phase_name, y = num_looks,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = mslooks, aes(y = mean)) +
geom_pointrange(data = mslooks,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,1)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
ggplot(msslooks, aes(x = phase_name, y = num_looks,
col = familiarity, group = familiarity)) +
geom_jitter(width = .3, height = .05) +
geom_line(data = mslooks, aes(y = mean)) +
geom_pointrange(data = mslooks,
aes(y = mean, ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width =.1)) +
facet_grid(age_years ~ num_objs) +
ylim(c(0,5)) +
xlab("") +
theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = .5))
phase_lengths <- d %>%
group_by(phase_name) %>%
multi_boot_standard(col = "phase_length")
ggplot(phase_lengths, aes(x = phase_name, y = mean)) +
geom_bar(stat="identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9))+
xlab("Phase") +
ylab("Phase Length (ms)")
phase_lengths_dc <- dc %>%
group_by(phase_name) %>%
multi_boot_standard(col = "phase_length")
ggplot(phase_lengths_dc, aes(x = phase_name, y = mean)) +
geom_bar(stat="identity") +
geom_linerange(aes(ymin = ci_lower, ymax = ci_upper),
position = position_dodge(width = .9))+
xlab("Phase") +
ylab("Phase Length (ms)")
lm <- lmer(num_looks ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc)
dc <- d %>%
select(SID, trial, social_ref, num_looks, exclude, phase_name, familiarity, num_objs, age_months, age_years) %>%
spread(phase_name, social_ref) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, familiarity, num_objs, age_months, age_years, label_request, request_touch, touch_response)%>%
gather("phase_name", "social_ref", label_request:touch_response)%>%
left_join(dc_phase, by = c("SID", "trial", "phase_name"))
lm <- lmer(num_looks ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc)
View(dc)
dc <- d %>%
select(SID, trial, social_ref, num_looks, exclude, phase_name, familiarity, num_objs, age_months, age_years) %>%
spread(phase_name, social_ref) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, familiarity, num_objs, age_months, age_years, label_request, request_touch, touch_response)%>%
gather("phase_name", "social_ref", label_request:touch_response)%>%
left_join(dc_phase, by = c("SID", "trial", "phase_name"))
dc <- d %>%
select(SID, trial, social_ref, num_looks, exclude, phase_name, familiarity, num_objs, age_months, age_years) %>%
spread(phase_name, social_ref) %>%
mutate(request_touch = pmax(request_slide, slide_touch))%>%
group_by(SID, trial)%>%
select(SID, trial, familiarity, num_objs, age_months, age_years, label_request, request_touch, touch_response, num_looks, exclude)%>%
gather("phase_name", "social_ref", label_request:touch_response)%>%
left_join(dc_phase, by = c("SID", "trial", "phase_name"))
lm <- lmer(num_looks ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc)
lm <- glmer(num_looks ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc)
lm <- lmer(num_looks ~ num_objs * familiarity * phase_name * age_months +
(1|SID),
data = dc)
