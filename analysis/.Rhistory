mutate(social_ref = as.numeric(num_looks>0))%>%
left_join(trial_info, by = c("Condition","line"))%>%
mutate(first_half = between(trial, 1, 4))
d <- filter(d, phase_length > 50) %>%
mutate(looks_sec = (num_looks/phase_length)*1000)
age_months <- d %>%
group_by(age_years) %>%
multi_boot_standard(col = "age_months")
age_months$age_years <- factor(age_months$age_years,
levels = c(2, 3, 4, 5),
labels = c("two", "three", "four", "five"))
accuracy <- read.csv("../data/accuracy_e1_2.csv")
acc <- accuracy %>%
gather("trial", "acc", X1:X12)
acc$trial <- as.numeric(str_replace(acc$trial, "X", ""))
acc$acc <- as.numeric(acc$acc)
View(d)
d$trial
acc$trial
acc$trial <- as.numeric(str_replace(acc$trial, "X", ""))
d$trial <- as.numeric(d$trial)
acc$acc <- as.numeric(acc$acc)
d<- d%>%
left_join(acc)
rm(list=ls())
knitr::opts_chunk$set(echo = TRUE)
library(png)
library(grid)
library(ggplot2)
library(xtable)
library(langcog)
library(dplyr)
library(ggplot2)
library(rjson)
library(stringr)
library(tidyr)
library(lme4)
library(knitr)
library(markdown)
library(lmerTest)
library(ggthemes)
d.raw <- data.frame()
files <- dir("../data/coder_1")
for (f in files) {
jf <- paste("../data/coder_1/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = str_replace(f, ".csv", ""),
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
exclude = as.numeric(jd$reference.exclude))
d.raw <- bind_rows(d.raw, id)
}
files <- dir("../data/coder_2")
for (f in files) {
jf <- paste("../data/coder_2/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = str_replace(f, ".csv", ""),
line = as.numeric(jd$phase.ordinal),
phase = as.numeric(jd$phase.1_2_3_4),
phase_onset = as.numeric(jd$phase.onset),
phase_offset = as.numeric(jd$phase.offset),
num_looks = as.numeric(jd$reference.num_looks),
exclude = as.numeric(jd$reference.exclude))
d.raw <- bind_rows(d.raw, id)
}
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("../trial_info_e1.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, num_looks, exclude, age_years, age_months, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
mutate(social_ref = as.numeric(num_looks>0))%>%
left_join(trial_info, by = c("Condition","line"))%>%
mutate(first_half = between(trial, 1, 4))
d <- filter(d, phase_length > 50) %>%
mutate(looks_sec = (num_looks/phase_length)*1000)
age_months <- d %>%
group_by(age_years) %>%
multi_boot_standard(col = "age_months")
age_months$age_years <- factor(age_months$age_years,
levels = c(2, 3, 4, 5),
labels = c("two", "three", "four", "five"))
accuracy <- read.csv("../data/accuracy_e1_2.csv")
acc <- accuracy %>%
gather("trial", "acc", X1:X12)
acc$trial <- as.numeric(str_replace(acc$trial, "X", ""))
d<- d%>%
left_join(acc)
save(d, file = "soc_ref_e1.RData")
rm(list=ls())
d.raw <- data.frame()
files <- dir("../data_e2/coder_1")
for (f in files) {
jf <- paste("../data_e2/coder_1/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = str_replace(f, ".csv", ""),
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
num_ques = as.numeric(jd$reference.num_ques),
num_sou = jd$reference.num_SOU,
exclude = as.numeric(jd$reference.exclude))
d.raw <- bind_rows(d.raw, id)}
demo <- read.csv("../demo_soc_ref_uncert_exp2.csv")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("../trial_info_e2.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, num_looks, num_ques, num_sou, exclude, age_years, age_months, line, Condition, Gaze, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
mutate(social_ref = as.numeric(num_looks>0))%>%
left_join(trial_info, by = c("Condition","line"))%>%
mutate(first_half = between(trial, 1, 4))
age_months <- d %>%
group_by(age_years) %>%
multi_boot_standard(col = "age_months")
age_months$age_years <- factor(age_months$age_years,
levels = c(3, 4),
labels = c("three", "four"))
accuracy <- read.csv("../data_e2/accuracy_e2_2.csv")
acc <- accuracy %>%
gather("trial", "acc", X1:X12)
acc$trial <- as.numeric(str_replace(acc$trial, "X", ""))
acc$acc <- as.factor(acc$acc)
#gaze acc
accuracy_gaze <- read.csv("../data_e2/accuracy_e2.csv")
accuracy_key <- read.csv("accuracy_key_gaze.csv")
acc_gaze <- accuracy_gaze %>%
gather("trial", "response", X1:X12)
acc_gaze$trial <- as.numeric(str_replace(acc_gaze$trial, "X", ""))
acc_gaze$response <- str_replace(acc_gaze$response, "LR", "L")
acc_gaze$response <- str_replace(acc_gaze$response, "RL", "R")
#combine with data file
acc_g <- acc_gaze %>%
left_join(accuracy_key)%>%
mutate(acc_gaze = response == gaze_answer)%>%
select(SID, trial, acc_gaze, response)
acc <- acc %>%
left_join(acc_g)
acc$trial <- as.numeric(acc$trial)
d<- d%>%
left_join(acc)
d$acc[d$trial_type == "novel" & d$Gaze == "gaze" & d$acc_gaze] <- 1
d$acc[d$trial_type == "novel" & d$Gaze == "gaze" & !d$acc_gaze] <- 0
d$acc[d$response == "NC" | d$response == "B"] <- NA
save(d, file = "soc_ref_e2.RData")
setwd("~/Desktop/soc_ref_uncert/cogsci2017")
load("../analysis/soc_ref_e1.RData")
load("../analysis/soc_ref_e1.RData")
ids <- d %>%
distinct(SID)
trials <- d %>%
distinct(trial)
n <- length(ids$SID)*length(trials$trial)
nc <- length(d$acc[d$response_orig == "NC"])/n
b <- length(d$acc[d$response_orig == "B"])/n
lr <- length(d$acc[d$response_orig == "LR"])/n
rl <- length(d$acc[d$response_orig == "RL"])/n
tot <- 100*(lr + rl) #percent of trials with two objects placed in bucket
acc_mss_e1 <- d%>%
filter(familiarity == "familiar", exclude == 0, num_objs == 2)%>%
mutate(trial_type = "2-fam", Gaze = "no gaze")%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc")%>%
mutate(Exp = "1")
load("../analysis/soc_ref_e1.RData")
#how often did children select two objects or no objects?
ids <- d %>%
distinct(SID)
trials <- d %>%
distinct(trial)
n <- length(ids$SID)*length(trials$trial)
nc <- length(d$acc[d$response_orig == "NC"])/n
b <- length(d$acc[d$response_orig == "B"])/n
lr <- length(d$acc[d$response_orig == "LR"])/n
rl <- length(d$acc[d$response_orig == "RL"])/n
tot <- 100*(lr + rl) #percent of trials with two objects placed in bucket
#Get accuracy for BOTH experiments for table
acc_mss_e1 <- d%>%
filter(!is.na(acc),familiarity == "familiar", exclude == 0, num_objs == 2)%>%
mutate(trial_type = "2-fam", Gaze = "no gaze")%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc")%>%
mutate(Exp = "1")
load("../analysis/soc_ref_e2.RData")
d$acc <- as.numeric(as.character(d$acc))
acc_mss_e2 <- d%>%
filter(!is.na(acc), exclude == 0)%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)%>%
mutate(Exp = "2")
acc_mss_e2$Gaze <- factor(acc_mss_e2$Gaze,
levels = c("gaze","no_gaze"),
labels = c("gaze", "no gaze"))
acc_mss_e2$trial_type <- factor(acc_mss_e2$trial_type,
levels = c("familiar","mutual", "novel"),
labels = c("2-fam", "mutual", "2-nov"))
acc_table <- acc_mss_e1 %>%
bind_rows(acc_mss_e2)%>%
select(Exp, trial_type, Gaze, age_years, mean, ci_lower, ci_upper)
View(acc_table)
acc_table$mean[acc_table$age_years == "2"]
twoyo <- acc_table$mean[acc_table$age_years == "2"]
t.test(twoyo, .5)
t.test(twoyo, mu=.5)
twoyo <- d$acc[d$age_years == "2"]
twoyo
View(d)
twoyo <- d$acc[d$age_years == 2]
twoyo
d$acc[d$age_years == 2]
d$acc
d$age_years
d$age_years == "2"
d$acc[d$age_years == 2]
load("../analysis/soc_ref_e1.RData")
#how often did children select two objects or no objects?
ids <- d %>%
distinct(SID)
trials <- d %>%
distinct(trial)
n <- length(ids$SID)*length(trials$trial)
nc <- length(d$acc[d$response_orig == "NC"])/n
b <- length(d$acc[d$response_orig == "B"])/n
lr <- length(d$acc[d$response_orig == "LR"])/n
rl <- length(d$acc[d$response_orig == "RL"])/n
tot <- 100*(lr + rl) #percent of trials with two objects placed in bucket
#Get accuracy for BOTH experiments for table
acc_mss_e1 <- d%>%
filter(!is.na(acc),familiarity == "familiar", exclude == 0, num_objs == 2)%>%
mutate(trial_type = "2-fam", Gaze = "no gaze")%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc")%>%
mutate(Exp = "1")
load("../analysis/soc_ref_e2.RData")
d$acc <- as.numeric(as.character(d$acc))
acc_mss_e2 <- d%>%
filter(!is.na(acc), exclude == 0)%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)%>%
mutate(Exp = "2")
acc_mss_e2$Gaze <- factor(acc_mss_e2$Gaze,
levels = c("gaze","no_gaze"),
labels = c("gaze", "no gaze"))
acc_mss_e2$trial_type <- factor(acc_mss_e2$trial_type,
levels = c("familiar","mutual", "novel"),
labels = c("2-fam", "mutual", "2-nov"))
acc_table <- acc_mss_e1 %>%
bind_rows(acc_mss_e2)%>%
select(Exp, trial_type, Gaze, age_years, mean, ci_lower, ci_upper)
t.test(, mu=.5)
twoyo <- d$acc[d$age_years == 2]
twoyo
d$acc[d$age_years == 2]
load("../analysis/soc_ref_e1.RData")
#how often did children select two objects or no objects?
ids <- d %>%
distinct(SID)
trials <- d %>%
distinct(trial)
n <- length(ids$SID)*length(trials$trial)
nc <- length(d$acc[d$response_orig == "NC"])/n
b <- length(d$acc[d$response_orig == "B"])/n
lr <- length(d$acc[d$response_orig == "LR"])/n
rl <- length(d$acc[d$response_orig == "RL"])/n
tot <- 100*(lr + rl) #percent of trials with two objects placed in bucket
#Get accuracy for BOTH experiments for table
acc_mss_e1 <- d%>%
filter(!is.na(acc),familiarity == "familiar", exclude == 0, num_objs == 2)%>%
mutate(trial_type = "2-fam", Gaze = "no gaze")%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc")%>%
mutate(Exp = "1")
twoyo <- d$acc[d$age_years == 2]
t.test(, mu=.5)
twoyo
t.test(twoyo, mu=.5)
acctest <- t.test(twoyo, mu=.5)
acctest$statistic
acctest$p.value
setwd("~/Desktop/soc_ref_uncert/cogsci2017")
load("../analysis/soc_ref_e1.RData")
#t-test for 2-yo acc
twoyo <- d$acc[d$age_years == 2]
acctest <- t.test(twoyo, mu=.5)
load("../analysis/soc_ref_e1.RData")
#how often did children select two objects or no objects?
ids <- d %>%
distinct(SID)
trials <- d %>%
distinct(trial)
n <- length(ids$SID)*length(trials$trial)
nc <- length(d$acc[d$response_orig == "NC"])/n
b <- length(d$acc[d$response_orig == "B"])/n
lr <- length(d$acc[d$response_orig == "LR"])/n
rl <- length(d$acc[d$response_orig == "RL"])/n
tot <- 100*(lr + rl) #percent of trials with two objects placed in bucket
#Get accuracy for BOTH experiments for table
acc_mss_e1 <- d%>%
filter(!is.na(acc),familiarity == "familiar", exclude == 0, num_objs == 2)%>%
mutate(trial_type = "2-fam", Gaze = "no gaze")%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc")%>%
mutate(Exp = "1")
load("../analysis/soc_ref_e2.RData")
d$acc <- as.numeric(as.character(d$acc))
acc_mss_e2 <- d%>%
filter(!is.na(acc), exclude == 0)%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)%>%
mutate(Exp = "2")
acc_mss_e2$Gaze <- factor(acc_mss_e2$Gaze,
levels = c("gaze","no_gaze"),
labels = c("gaze", "no gaze"))
acc_mss_e2$trial_type <- factor(acc_mss_e2$trial_type,
levels = c("familiar","mutual", "novel"),
labels = c("2-fam", "mutual", "2-nov"))
acc_table <- acc_mss_e1 %>%
bind_rows(acc_mss_e2)%>%
select(Exp, trial_type, Gaze, age_years, mean, ci_lower, ci_upper)
setwd("~/Desktop/soc_ref_uncert/analysis")
responses <- read.csv("../data/accuracy_e1.csv")
response <- responses %>%
gather("trial", "response", X1:X12)%>%
mutate(response_orig = response)
View(response)
response <- responses %>%
gather("trial", "response", X1:X12)%>%
mutate(response_orig = response)%>%
select(SID, trial, response_orig)
response$trial <- as.numeric(str_replace(response$trial, "X", ""))
rm(list=ls())
knitr::opts_chunk$set(echo = TRUE)
library(png)
library(grid)
library(ggplot2)
library(xtable)
library(langcog)
library(dplyr)
library(ggplot2)
library(rjson)
library(stringr)
library(tidyr)
library(lme4)
library(knitr)
library(markdown)
library(lmerTest)
library(ggthemes)
d.raw <- data.frame()
files <- dir("../data/coder_1")
for (f in files) {
jf <- paste("../data/coder_1/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = str_replace(f, ".csv", ""),
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
exclude = as.numeric(jd$reference.exclude))
d.raw <- bind_rows(d.raw, id)
}
files <- dir("../data/coder_2")
for (f in files) {
jf <- paste("../data/coder_2/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = str_replace(f, ".csv", ""),
line = as.numeric(jd$phase.ordinal),
phase = as.numeric(jd$phase.1_2_3_4),
phase_onset = as.numeric(jd$phase.onset),
phase_offset = as.numeric(jd$phase.offset),
num_looks = as.numeric(jd$reference.num_looks),
exclude = as.numeric(jd$reference.exclude))
d.raw <- bind_rows(d.raw, id)
}
demo <- read.csv("../soc_ref_uncertainty_EH_demo2016.csv")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("../trial_info_e1.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, num_looks, exclude, age_years, age_months, line, Condition, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
mutate(social_ref = as.numeric(num_looks>0))%>%
left_join(trial_info, by = c("Condition","line"))%>%
mutate(first_half = between(trial, 1, 4))
d <- filter(d, phase_length > 50) %>%
mutate(looks_sec = (num_looks/phase_length)*1000)
age_months <- d %>%
group_by(age_years) %>%
multi_boot_standard(col = "age_months")
age_months$age_years <- factor(age_months$age_years,
levels = c(2, 3, 4, 5),
labels = c("two", "three", "four", "five"))
accuracy <- read.csv("../data/accuracy_e1_2.csv")
acc <- accuracy %>%
gather("trial", "acc", X1:X12)
acc$trial <- as.numeric(str_replace(acc$trial, "X", ""))
#original responses
responses <- read.csv("../data/accuracy_e1.csv")
response <- responses %>%
gather("trial", "response", X1:X12)%>%
mutate(response_orig = response)%>%
select(SID, trial, response_orig)
response$trial <- as.numeric(str_replace(response$trial, "X", ""))
d<- d%>%
left_join(acc)%>%
left_join(response)
save(d, file = "soc_ref_e1.RData")
rm(list=ls())
d.raw <- data.frame()
files <- dir("../data_e2/coder_1")
for (f in files) {
jf <- paste("../data_e2/coder_1/",f,sep="")
jd <- read.csv(jf)
id <- data.frame(SID = str_replace(f, ".csv", ""),
line = jd$phase.ordinal,
phase = as.numeric(jd$phase.1_2_3_4),
phase_onset = jd$phase.onset,
phase_offset = jd$phase.offset,
num_looks = jd$reference.num_looks,
num_ques = as.numeric(jd$reference.num_ques),
num_sou = jd$reference.num_SOU,
exclude = as.numeric(jd$reference.exclude))
d.raw <- bind_rows(d.raw, id)}
demo <- read.csv("../demo_soc_ref_uncert_exp2.csv")
demo$age <- as.numeric(demo$age)
demo$age_years <- trunc(demo$age, digits = 0)
demo$age_months <- demo$age*12
trial_info <- read.csv("../trial_info_e2.csv")
d <- left_join(d.raw, demo) %>%
select(SID, phase, num_looks, num_ques, num_sou, exclude, age_years, age_months, line, Condition, Gaze, phase_onset, phase_offset) %>%
mutate(phase_length = phase_offset - phase_onset) %>%
mutate(social_ref = as.numeric(num_looks>0))%>%
left_join(trial_info, by = c("Condition","line"))%>%
mutate(first_half = between(trial, 1, 4))
age_months <- d %>%
group_by(age_years) %>%
multi_boot_standard(col = "age_months")
age_months$age_years <- factor(age_months$age_years,
levels = c(3, 4),
labels = c("three", "four"))
accuracy <- read.csv("../data_e2/accuracy_e2_2.csv")
acc <- accuracy %>%
gather("trial", "acc", X1:X12)
acc$trial <- as.numeric(str_replace(acc$trial, "X", ""))
acc$acc <- as.factor(acc$acc)
#gaze acc
accuracy_gaze <- read.csv("../data_e2/accuracy_e2.csv")
accuracy_key <- read.csv("accuracy_key_gaze.csv")
acc_gaze <- accuracy_gaze %>%
gather("trial", "response", X1:X12)
acc_gaze$trial <- as.numeric(str_replace(acc_gaze$trial, "X", ""))
acc_gaze$response <- str_replace(acc_gaze$response, "LR", "L")
acc_gaze$response <- str_replace(acc_gaze$response, "RL", "R")
#combine with data file
acc_g <- acc_gaze %>%
left_join(accuracy_key)%>%
mutate(acc_gaze = response == gaze_answer)%>%
select(SID, trial, acc_gaze, response)
acc <- acc %>%
left_join(acc_g)
acc$trial <- as.numeric(acc$trial)
d<- d%>%
left_join(acc)
d$acc[d$trial_type == "novel" & d$Gaze == "gaze" & d$acc_gaze] <- 1
d$acc[d$trial_type == "novel" & d$Gaze == "gaze" & !d$acc_gaze] <- 0
d$acc[d$response == "NC" | d$response == "B"] <- NA
save(d, file = "soc_ref_e2.RData")
load("../analysis/soc_ref_e1.RData")
#how often did children select two objects or no objects?
ids <- d %>%
distinct(SID)
trials <- d %>%
distinct(trial)
n <- length(ids$SID)*length(trials$trial)
nc <- length(d$acc[d$response_orig == "NC"])/n
b <- length(d$acc[d$response_orig == "B"])/n
lr <- length(d$acc[d$response_orig == "LR"])/n
rl <- length(d$acc[d$response_orig == "RL"])/n
tot <- 100*(lr + rl) #percent of trials with two objects placed in bucket
#Get accuracy for BOTH experiments for table
acc_mss_e1 <- d%>%
filter(!is.na(acc),familiarity == "familiar", exclude == 0, num_objs == 2)%>%
mutate(trial_type = "2-fam", Gaze = "no gaze")%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc")%>%
mutate(Exp = "1")
load("../analysis/soc_ref_e2.RData")
d$acc <- as.numeric(as.character(d$acc))
acc_mss_e2 <- d%>%
filter(!is.na(acc), exclude == 0)%>%
group_by(trial_type, Gaze, age_years)%>%
multi_boot_standard(col = "acc", na.rm = TRUE)%>%
mutate(Exp = "2")
acc_mss_e2$Gaze <- factor(acc_mss_e2$Gaze,
levels = c("gaze","no_gaze"),
labels = c("gaze", "no gaze"))
acc_mss_e2$trial_type <- factor(acc_mss_e2$trial_type,
levels = c("familiar","mutual", "novel"),
labels = c("2-fam", "mutual", "2-nov"))
acc_table <- acc_mss_e1 %>%
bind_rows(acc_mss_e2)%>%
select(Exp, trial_type, Gaze, age_years, mean, ci_lower, ci_upper)
